# DB_Lab1
## Лабораторна робота №2 з баз даних
Бєлокопитов В. О., Група КМ-83, Варіант 3

Для запуску програми необхідний встановленний [Docker](https://www.docker.com), а також
`python` не нижче 3-ї версії з модулем `psycopg2`, який можна встановити командою `pip install psycopg2`.

## Інструкція по запуску:
* Створення бази даних з нуля:
  1. Завантажити код репозиторію собі на комп'ютер.
  2. Відкрити термінал в папці проекту.
  3. Запустити команду `docker-compose up`.
  4. `flyway` створить нову структуру бази даних в схемі `migration`.
* Мігрування існуючої бази даних з Лабораторної роботи №1:
  1. При відсутності заповненої бази даних виконати [Лабораторну роботу №1](https://github.com/vasyokbelokopytov/DB_Lab1).
  2. Завантажити код цього репозиторію собі на комп'ютер.
  3. Відкрити термінал в папці проекту.
  4. Запустити команду `docker-compose up`.
  5. `flyway` створить нову структуру бази даних в схемі `migration` та перенесе всі дані.
  6. Після завершення попереднього пункту (Дочекатися логу `flyway exited with code 0`) запустити команду `python result.py`.
  7. Створиться файл `result.csv` з результатами індивідуального завдання (При бажанні порівняти результат з результатом [Лабораторної роботи №1](https://github.com/vasyokbelokopytov/DB_Lab1)).
  8. Виконати команду `docker-compose down` в іншому терміналі для зупинки контейнерів.
