# DB_Lab1
## Лабораторна робота №2 з баз даних
Бєлокопитов В. О., Група КМ-83, Варіант 3

Для запуску програми необхідний встановленний [Docker](https://www.docker.com), а також
`python` не нижче 3-ї версії з модулем `psycopg2`, який можна встановити командою `pip install psycopg2`.

## Інструкція по запуску:
1. Завантажити код цього репозиторія собі на комп'ютер, не змінюючи структури проекту.
2. Завантажити два файла з ім'ям `OdataXXXXFile.csv`, де `XXXX` - це рік, у папку `files`, що знаходиться за шляхом `lab1/app/files/`.
3. Відкрити термінал, перейти в директорію проекту за допомогою команди `cd`.
4. Виконати команду `docker-compose up -d`.
5. Запустити файл `main.py`, що знаходиться за шляхом `lab1/app/code/main.py` через IDE, або 
командою `python main.py` в терміналі.
6. Після завершення роботи програми видалити контейнери командою `docker-compose down`.
7. Результати знаходяться за шляхом `lab1/app/files/results.csv`.
8. Файл з вимірами часу завантаження знаходиться за шляхом `lab1/app/files/time-measurements.txt`.

## Імітування падіння бази даних:
1. Знаходячись в директорії проекту виконайте команду `docker stop lab1_db_1`. 
Це спричинить зупинку контейнера з образом бази даних, тож `main.py` буде намагатися повторити підключення.
2. В тій же самій директорії виконайте команду `docker start lab1_db_1`.
Контейнер з базою даних знову запуститься, і `main.py` зможе поновити роботу.


